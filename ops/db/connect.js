var MongoClient = require('mongodb').MongoClient;
require('dotenv').config();

var uri = process.env.CLARK_DB_URI.replace(
  /<DB_PASSWORD>/g,
  process.env.CLARK_DB_PWD,
)
  .replace(/<DB_PORT>/g, process.env.CLARK_DB_PORT)
  .replace(/<DB_NAME>/g, process.env.CLARK_DB_NAME);

MongoClient.connect(uri, function (err, client) {
  if (err) throw err;
  console.log('connection successful!');

  const subscribers = [ 'donseannelly', 'gshaw7', 'skaza' ];

  client.db('notification-service').collection('users')
    .aggregate([
      
    ])

  client.close();
});

/*
client.db('onion').collection('collections').updateOne(
    { _id: '5b182a15d5cffc06cb0dee24' },
    { name: 'NSA NCCP',
      abstracts: [
        {
          organization: 'University of Arkansas at Little Rock',
          summary: 'Twelve labs in total: focusing on cloud networking: network protection and network defense. Each lab is self-contained: and includes lab overview and objectives: instructions: tasks: lab solution: virtual machine image file(s): and metadata file(s) for initiating and setting up the lab environment.'
        },
        {
          organization: 'Iowa State University',
          summary: '30 modules with assessment tools, split to contain 10 modules per topic (see Topics and Subtopics). Some modules are platform independent, however when platform is dependent, both Windows and Linux versions are available.Modules are in logical order and discussed in three class structure, however each module is self - contained and can be used independently of other modules.Modules can be used in laboratory - based courses or be used as homework  assignments in a lecture only course.Examination questions and discussion topics are provided.'
        },
        {
          organization: 'North Carolina A&amp;T State University',
          summary: "Three modules total. “Cybersecurity Fundamentals” is recommended to be taught before “Secure Software Engineering” and “Cybersecurity Product Development.” Each of these modules can be used in part, or in whole. Syllabi, presentations, instructor notes, micro-videos, online resources, required reading, and hands - on activities are included in this curriculum."
        }
      ],
      learningObjects: ["5a69f5630ec2ec7a3cec183f", "5a720a2a20df3b2ca4bf4e9e", "5a8b772cf187245614c934a1", "5a9477a81405cb053272cecf", "5a9f09f6ecba9a264dcd802c", "5aa7ebccecba9a264dcd8095", "5aa806f9ecba9a264dcd8098", "5aa83e3aecba9a264dcd809c", "5aa84718ecba9a264dcd80a1", "5aa945d591ccb765e98a0cee", "5aa95f2891ccb765e98a0cf7", "5aaa9d8591ccb765e98a0d00", "5aaab7f2390f3f30211bf9da", "5aaab94f390f3f30211bf9df", "5ab000ce390f3f30211bf9e2", "5ab00282390f3f30211bf9e7", "5aba67db7a1aca421f67e24b", "5aba67ff7a1aca421f67e25b", "5ac25df5a1aa021ce706aafd", "5ac26647a1aa021ce706ab02", "5ac5009e37aaff2bcc9682a0", "5ac50c3937aaff2bcc9682a7", "5ac80d96cc4d153b0011d1be", "5ac8122ecc4d153b0011d1c3", "5acbb914cc4d153b0011d1ca", "5accece5cc4d153b0011d1d2", "5accee45cc4d153b0011d1d8", "5accf24acc4d153b0011d1db", "5accf4b4cc4d153b0011d1e3", "5accf69dcc4d153b0011d1e9", "5ad568bba623d716ba33d670", "5ad73a315addb51d7e493f44", "5ad7577077170312866351fe", "5ad759c67717031286635204", "5ad76e8b5037130e2644cf5e", "5ad7705a5037130e2644cf62", "5ad772872911640dbd77eee9", "5ad774f092a3f50db17433fd", "5ad776456d9fed0db5ac385c", "5ad77c2d6077b80dbe221b79", "5ad77f0bb6e2c00f91b7bffc", "5ad780feb6e2c00f91b7c001", "5ad782e2bde6ce0dd150a5cb", "5ad785407062700de93361b9", "5ad7871fbde6ce0dd150a5d0", "5ad7883db6e2c00f91b7c005", "5ad78a13b6e2c00f91b7c008", "5ad78c101691830dba1847a5", "5ad78d0c7de3a80dd04b0330", "5ad78e4c7de3a80dd04b0335", "5ad79ab97de3a80dd04b033a", "5ad8f5a6824dd17351adf1e1", "5adb468a824dd17351adf1e4", "5adb4ce234d34e0db80ce9b1", "5adc026d824dd17351adf1ea", "5adc073b6cff930dd5c2c80e", "5adc0a726cff930dd5c2c814", "5adc0d6ce6b9490dd9331a29", "5adc0feee6b9490dd9331a30", "5add2dc9e6b9490dd9331a37", "5add5180e6b9490dd9331a39", "5ade439bf9e4650da8998191", "5ade446bf9e4650da8998192", "5ade4d41f9e4650da899819c", "5ade5163f9e4650da89981a1", "5ade51a6f9e4650da89981a2", "5ade55d6f9e4650da89981a9", "5ade5902d93cc80db97019c3", "5ade5c47d93cc80db97019cb", "5ade5f65d93cc80db97019d2", "5ade629cd93cc80db97019d3", "5ade6a02d93cc80db97019d7", "5ade747fd93cc80db97019da", "5ade7b8fd93cc80db97019dd", "5ade7f42d93cc80db97019e3", "5adf3af1d93cc80db97019ed", "5adf4c156bb55e0daf9c0d80", "5adf50d76bb55e0daf9c0d87", "5adf66326bb55e0daf9c0d90", "5adf6c256bb55e0daf9c0d91", "5adf76c16bb55e0daf9c0d95", "5adfa9b0e5b8af01c535a0ab", "5adfb6bbe5b8af01c535a0af", "5adfbb6ee5b8af01c535a0b4", "5adfbd68e5b8af01c535a0b5", "5adfbd99e5b8af01c535a0b6", "5adfbdc6e5b8af01c535a0b7", "5adfbe1ee5b8af01c535a0b8", "5adfc572e5b8af01c535a0b9", "5adfc5a7e5b8af01c535a0ba", "5adfc6c8e5b8af01c535a0bc", "5adfc6f5e5b8af01c535a0bd", "5ae4b4b208e67a62277ac633", "5ae4e7f608e67a62277ac639", "5ae67d7e17818a0dbf20ee9f", "5ae6a6c717818a0dbf20eeb2", "5ae782dbbe129c0ccafc0c9d", "5ae7842cbe129c0ccafc0ca6", "5ae78508be129c0ccafc0cae", "5ae785d1be129c0ccafc0cb3", "5ae7866abe129c0ccafc0cba", "5ae7870fbe129c0ccafc0cc1", "5ae78789be129c0ccafc0cc8", "5ae8e4f6be129c0ccafc0cca", "5ae8e999be129c0ccafc0cce", "5ae8ed48be129c0ccafc0cd1", "5ae9241bbe129c0ccafc0cd5", "5ae92b17be129c0ccafc0cda", "5ae9ea29be129c0ccafc0ce0", "5aea4499be129c0ccafc0ce5", "5aea4cf0be129c0ccafc0cea", "5aea5177be129c0ccafc0cee", "5aea5234be129c0ccafc0cf1", "5aea53c1be129c0ccafc0cf4", "5aea551bbe129c0ccafc0cf8", "5aea56afbe129c0ccafc0cfd", "5aea57a7be129c0ccafc0d06", "5aea5852be129c0ccafc0d0a", "5aea58d2be129c0ccafc0d0e", "5aeba4b0be129c0ccafc0d11", "5aeba612be129c0ccafc0d15", "5aeba76cbe129c0ccafc0d1b", "5aeba8d4be129c0ccafc0d22", "5af1f07ea49eb70db1684cfe", "5af1f2ada49eb70db1684d04", "5af324c253611d0a38f3133f", "5af3270953611d0a38f31344", "5af3811570b4930db2231919", "5af652cf70b4930db223191b", "5af6593570b4930db2231920", "5af71f354803270dfc9aeab2", "5af7205e4803270dfc9aeab7", "5af721d34803270dfc9aeabb", "5af723ff4803270dfc9aeabf", "5af724bc4803270dfc9aeacf", "5af7271a4803270dfc9aead4", "5af728ff4803270dfc9aead8", "5af72a994803270dfc9aeadc", "5af72b914803270dfc9aeae2", "5af72eb04803270dfc9aeae6", "5af72f2a4803270dfc9aeae8", "5af72f884803270dfc9aeaea", "5af9053e4803270dfc9aeaec", "5af9b0fa4803270dfc9aeaf0", "5af9b2ce17558e0dc139a629", "5af9b33917558e0dc139a62a", "5af9b3e417558e0dc139a62c", "5af9bb96083b8d0dae9e3c2a", "5afa0878c4e4590db24a6528", "5afa1260c4e4590db24a6536", "5afa1498c4e4590db24a653f", "5afa15b6c4e4590db24a6543", "5afa1716c4e4590db24a6549", "5afa17ccc4e4590db24a654c", "5afa185fc4e4590db24a654f", "5afa19dfc4e4590db24a6552", "5afa1b17c4e4590db24a6558", "5afa1c15c4e4590db24a6560", "5afa1caec4e4590db24a6563", "5afa1d2cc4e4590db24a6566", "5afa1de8c4e4590db24a656a", "5afa1e6bc4e4590db24a6571", "5afa1ee7c4e4590db24a6574", "5afa2042c4e4590db24a6579", "5afa237ec4e4590db24a657f", "5afb57ec7ebb710dedfd41cd", "5afb5ab37ebb710dedfd41d6", "5afb5b5e7ebb710dedfd41da", "5afb5be47ebb710dedfd41dd", "5afb5cf97ebb710dedfd41e1", "5afb5dcd7ebb710dedfd41ec", "5afb5eb97ebb710dedfd41f1", "5afb65e47ebb710dedfd41f8", "5afb67e27ebb710dedfd4205", "5afb695d7ebb710dedfd4208", "5afb6ad97ebb710dedfd420a", "5afb6cb97ebb710dedfd420d", "5afb6e0f7ebb710dedfd4213", "5afb72c87ebb710dedfd421a", "5afb73dc7ebb710dedfd421d", "5afb790d7ebb710dedfd421e", "5afb79c67ebb710dedfd4221", "5afb7a477ebb710dedfd4224", "5afc684f7ebb710dedfd4227", "5afc69337ebb710dedfd4232", "5afc69ec7ebb710dedfd4234", "5afc6fbb7ebb710dedfd4239", "5afc70347ebb710dedfd423d", "5afc72f07ebb710dedfd4241", "5afc73cb7ebb710dedfd424b", "5afc74fc7ebb710dedfd424d", "5afc773b7ebb710dedfd4251", "5afc78107ebb710dedfd4257", "5afc79a77ebb710dedfd4259", "5afc7a727ebb710dedfd4262", "5afc7c817ebb710dedfd4265", "5afc7d3f7ebb710dedfd4268", "5afc7da37ebb710dedfd426b", "5afc954c7ebb710dedfd426e", "5afc97087ebb710dedfd4273", "5afc985e7ebb710dedfd4276", "5afc998f7ebb710dedfd4279", "5afc9a8fe3578e0db60a55ce", "5afc9b497ebb710dedfd427e", "5afc9c20e3578e0db60a55d1", "5afc9ca4e3578e0db60a55d4", "5afd9a66c60bc10dca10a0fd", "5afd9e37c60bc10dca10a101", "5afe0980c60bc10dca10a108", "5afe0b0fc60bc10dca10a10c", "5afe105cc60bc10dca10a111", "5afe1328c60bc10dca10a116", "5afe15ebc60bc10dca10a11b", "5afe17fcc60bc10dca10a120", "5afe1be6c60bc10dca10a124", "5afe1fc0c60bc10dca10a129", "5afe2418c60bc10dca10a12d", "5afe2654c60bc10dca10a131", "5afe2c87c60bc10dca10a135", "5aff0e90c60bc10dca10a13b", "5aff1656c60bc10dca10a13c", "5b01e7998de7414c1d774cce", "5b0202018de7414c1d774cd3", "5b021ae08de7414c1d774cd7", "5b0221348de7414c1d774ce0", "5b022b2a8de7414c1d774cf0", "5b022def8de7414c1d774cf5", "5b0302b98de7414c1d774cfb", "5b0302cd8de7414c1d774cfc", "5b03032b8de7414c1d774cfd", "5b044855aff6f60da68d529f", "5b0449b5aff6f60da68d52a3", "5b0487c97e0fc00d9df7a087", "5b0489387e0fc00d9df7a08b", "5b048bc47e0fc00d9df7a093", "5b049c697e0fc00d9df7a097", "5b049cfc7e0fc00d9df7a09c", "5b049dc57e0fc00d9df7a09f", "5b049ec17e0fc00d9df7a0a4", "5b049fb47e0fc00d9df7a0a9", "5b04a39c8d6c610dc6c7d70b", "5b04a45f8d6c610dc6c7d70e", "5b04a5018d6c610dc6c7d712", "5b0569228d6c610dc6c7d716", "5b056b83a13dab4c7a19616b", "5b056ca2a13dab4c7a196177", "5b05bae38545e30da84bbaab", "5b05bdc38545e30da84bbaac", "5b0c3e438545e30da84bbab8", "5b0c51fc8545e30da84bbabe", "5b0d8ca32a15b879c0f4327d", "5b0ecbc12a15b879c0f43280", "5b0ede98158d9c4bfc8e2ecb", "5b0ee5dcdbe13c4dd5675e99", "5b101dd21744150dd579df69", "5b1049cfcb66e321bd74a216", "5b157c030cef060dccdf6482", "5b157d3cf09c353a4cc9ede8", "5b15809d0cef060dccdf6489", "5b15844250fcbc0db4fad0b8", "5b169407a73b9f0dd2ae2925", "5b169460a73b9f0dd2ae2929", "5b1694b7a73b9f0dd2ae292d", "5b169500a73b9f0dd2ae2931", "5b16956868fd460db3fd3263", "5b16968468fd460db3fd3267", "5b16974f68fd460db3fd3274", "5b16985b68fd460db3fd3279", "5b16994f68fd460db3fd327e", "5b1828540ca1481fa37813f3", "5b182a4b0ca1481fa37813f7", "5b182b6b0ca1481fa37813fc"]}
  )
  */